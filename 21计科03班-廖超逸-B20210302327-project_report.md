# ã€ŠPythonç¨‹åºè®¾è®¡åŸºç¡€ã€‹ç¨‹åºè®¾è®¡ä½œå“è¯´æ˜ä¹¦

é¢˜ç›®ï¼š å¤–æ˜Ÿäººå…¥ä¾µæ¸¸æˆğŸ‘½

å­¦é™¢ï¼š 21è®¡ç§‘03ç­

å§“åï¼š å»–è¶…é€¸

å­¦å·ï¼š B20210302327

æŒ‡å¯¼æ•™å¸ˆï¼š å‘¨æ™¯

èµ·æ­¢æ—¥æœŸï¼š2023.11.10-2023.12.10

## æ‘˜è¦

åœ¨Windowsæ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œå®ç°é£èˆ¹å¤§æˆ˜å¤–æ˜Ÿäººçš„æ¸¸æˆæ“ä½œåŠŸèƒ½ã€‚ä»‹ç»äº†è¯¥é¡¹ç›®çš„åŸºæœ¬è®¾è®¡æ€è·¯ä¸æ–¹æ³•ã€‚åœ¨è¯¥è®¾è®¡ä¸­ï¼Œé£èˆ¹å¯ä»¥åœ¨ä¸€å®šåŒºåŸŸå†…è‡ªç”±ç§»åŠ¨ï¼Œå¹¶ä¸”å¯ä»¥å‘å°„å­å¼¹ï¼Œå­å¼¹å¯ä»¥å‡»ä¸­å¤–æ˜Ÿäºº,å¢åŠ åˆ†æ•°ï¼Œå¤–æ˜Ÿäººå¯ä»¥æ’å‡»é£èˆ¹ï¼Œæ¸¸æˆç»“æŸæ¡ä»¶ä¸ºé£èˆ¹è¢«å‡»ä¸­æˆ–ä¸»åŠ¨é€€å‡ºæ¸¸æˆã€‚åŒæ—¶å¸®åŠ©ç”¨æˆ·è¿›ä¸€æ­¥ç†è§£å’ŒæŒæ¡Pythonå„ç§åŸºæœ¬ç±»å‹çš„å˜é‡ã€æ•°æ®ç±»å‹ã€ç±»ã€ç”¨æˆ·è¾“å…¥å’Œæ–‡ä»¶æ“ä½œå®ç°é¢å‘å¯¹è±¡çš„æ¸¸æˆå¼€å‘ï¼Œä»¥åŠå®ƒä»¬åœ¨ç¨‹åºä¸­çš„ä½¿ç”¨æ–¹æ³•ã€‚

å…³é”®è¯ï¼šPythonè¯­è¨€ã€ Pygameæ¨¡å—ã€é£æœºå¤§æˆ˜å¤–æ˜Ÿäººã€æ¸¸æˆåˆçº§ç¼–ç¨‹å®ä¾‹

## ç¬¬1ç«  éœ€æ±‚åˆ†æ

### 1.1 åŠŸèƒ½éœ€æ±‚

(1) æ¸¸æˆçš„å¼€å§‹ç•Œé¢ï¼Œå½“ç‚¹å‡»å¼€å§‹æ—¶å°±å¯ä»¥å¼€å§‹æ¸¸æˆã€‚
(2) æ¸¸æˆä¸­çš„é£èˆ¹çš„ç§»åŠ¨éœ€è¦é™å®šåœ¨å±å¹•èŒƒå›´å†…ã€‚
(3) æ¸¸æˆä¸­éœ€è¦ä½¿ç”¨è®°åˆ†æ¿æ¥ç»Ÿè®¡åˆ†æ•°ã€‚
(4) æ¸¸æˆä¸­çš„å­å¼¹å‘å°„éœ€è¦é™å®šåœ¨å±å¹•èŒƒå›´å†…ã€‚
(5) æ¸¸æˆä¸­çš„å­å¼¹éœ€è¦å‡»ä¸­å¤–æ˜Ÿäººï¼ŒåŒæ—¶ä¸å¤–æ˜Ÿäººä¸€èµ·æ¶ˆå¤±ã€‚
(6) æ¸¸æˆä¸­çš„å¤–æ˜Ÿäººéœ€è¦é™å®šæ•°é‡å¹¶åœ¨å…¨éƒ¨æ¶ˆå¤±åå†ç”Ÿæˆã€‚

### 1.2 è®¾è®¡ç›®çš„

(1) å¸®åŠ©ç”¨æˆ·åº¦è¿‡æ— èŠæ—¶é—´
(2) å¸®åŠ©ç”¨æˆ·ç†Ÿæ‚‰Pythonç¼–ç¨‹æ–¹æ³•,ç†Ÿæ‚‰Pygameç±»çš„æ–¹æ³•ä¸ä½¿ç”¨ã€‚
(3) å¸®åŠ©ç”¨æˆ·ç†Ÿæ‚‰é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ã€‚

## ç¬¬2ç«  åˆ†æä¸è®¾è®¡

### 2.1 ç³»ç»Ÿæ¶æ„

ç³»ç»Ÿçš„æ€»ä½“è®¾è®¡æ¡†å›¾
[![piJ6sbj.png](https://z1.ax1x.com/2023/11/14/piJ6sbj.png)](https://imgse.com/i/piJ6sbj)

### 2.2 ç³»ç»Ÿæ¨¡å—

è¯¥é¡¹ç›®ä¸»è¦åˆ†ä¸º8ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«ä¸º: æ¸¸æˆè®¾ç½®æ¨¡å—ã€æ¸¸æˆç•Œé¢æ¨¡å—ã€æ¸¸æˆåˆå§‹åŒ–æ¨¡å—ã€å­å¼¹æ¨¡å—ã€å¤–æ˜Ÿäººæ¨¡å—ã€é£èˆ¹æ¨¡å—ã€æ¸¸æˆåˆ†æ•°æ¨¡å—ã€ æ¸¸æˆä¸»æ¨¡å—ã€‚

### 2.3 ç³»ç»Ÿæµç¨‹

(1)  æ¸¸æˆä¸»æ¨¡å—: ç¨‹åºä¸»å‡½æ•°ä¸»è¦è¿›è¡Œå®šä¹‰å’Œç»§æ‰¿çš„ç›¸å…³æ“ä½œï¼Œå®ç°æˆå‘˜å‡½æ•°çš„å®šä¹‰å’Œæˆå‘˜å±æ€§çš„å®šä¹‰ï¼Œç»§æ‰¿ç›¸å…³å‡½æ•°å¹¶æ·»åŠ ç›¸å…³çš„æ¸¸æˆç‰¹æ€§ã€‚
[![piJ6mU1.png](https://z1.ax1x.com/2023/11/14/piJ6mU1.png)](https://imgse.com/i/piJ6mU1)

(2) æ¸¸æˆç•Œé¢æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°æ¸¸æˆçš„å¼€å§‹ç•Œé¢ï¼Œå½“ç‚¹å‡»å¼€å§‹æ—¶å°±å¯ä»¥å¼€å§‹æ¸¸æˆã€‚
[![piJcZQS.png](https://z1.ax1x.com/2023/11/14/piJcZQS.png)](https://imgse.com/i/piJcZQS)

(3) æ¸¸æˆè®¾ç½®æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°æ¸¸æˆçš„è®¾ç½®ç•Œé¢ã€‚
[![piJcSqH.png](https://z1.ax1x.com/2023/11/14/piJcSqH.png)](https://imgse.com/i/piJcSqH)

(4) æ¸¸æˆåˆå§‹åŒ–æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°æ¸¸æˆçš„åˆå§‹åŒ–ã€‚
[![piJcCdA.png](https://z1.ax1x.com/2023/11/14/piJcCdA.png)](https://imgse.com/i/piJcCdA)

(5) å­å¼¹æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°å­å¼¹çš„è®¾ç½®ã€‚
[![piJc1J0.png](https://z1.ax1x.com/2023/11/14/piJc1J0.png)](https://imgse.com/i/piJc1J0)

(6) å¤–æ˜Ÿäººæ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°å¤–æ˜Ÿäººçš„è®¾ç½®ã€‚
[![piJRJQf.jpg](https://z1.ax1x.com/2023/11/14/piJRJQf.jpg)](https://imgse.com/i/piJRJQf)

(7) é£èˆ¹æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°é£èˆ¹çš„è®¾ç½®ã€‚
[![piJ4XKP.png](https://z1.ax1x.com/2023/11/14/piJ4XKP.png)](https://imgse.com/i/piJ4XKP)

(8) æ¸¸æˆåˆ†æ•°æ¨¡å—ï¼š è¯¥æ¨¡å—ä¸»è¦å®ç°æ¸¸æˆåˆ†æ•°çš„è®¾ç½®ã€‚
[![piJ4jDf.png](https://z1.ax1x.com/2023/11/14/piJ4jDf.png)](https://imgse.com/i/piJ4jDf)

### 2.4 æ•°æ®åº“çš„è®¾è®¡

è¯¥é¡¹ç›®æ— æ•°æ®åº“çš„è®¾è®¡ç›¸å…³çš„è®¾è®¡ã€‚

### 2.5 å…³é”®çš„å®ç°

è¯¥é¡¹ç›®çš„å®ç°ä¸»è¦å…³é”®åœ¨äºå¯¹äºPythonè¯­è¨€çš„å¼ºå¤§ä¸°å¯Œçš„åº“ï¼Œå…¶ä¸­Pygameåº“æœ‰ç€é‡å¤§çš„ä½œç”¨ã€‚Pygameæ˜¯Pythonçš„ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“, æ­è½½äº†åŸºäºOpenGLçš„å›¾å½¢åº“å’Œä¼˜è´¨çš„éŸ³é¢‘åº“, å¯ä»¥å¿«é€Ÿä¸Šæ‰‹åˆ¶ä½œ2Dæ¸¸æˆçš„åŸå‹ã€‚Pygameçš„APIæ¯”è¾ƒååº•å±‚, å¼€å‘äººå‘˜åœ¨ç¼–ç¨‹æ—¶å…·æœ‰å¾ˆå¤§çš„è‡ªç”±åº¦, åŒæ—¶å…·æœ‰äº†å¾ˆå¼ºçš„å¯å®šåˆ¶æ€§ï¼Œåœ¨Pythonè¯­è¨€æä¾›çš„èµ„æºç»“æ„ä¸Šåº“çš„æ¨¡å—ç ”å‘æ˜¯è¯¥é¡¹ç›®çš„é‡è¦åŸºç¡€ã€‚

## ç¬¬3ç«  è½¯ä»¶æµ‹è¯•

### 1.1 ç±»å’Œå‡½æ•°çš„å•å…ƒæµ‹è¯•


(1) Alienç±»æµ‹è¯•

```python
import pygame
from Alien import Alien

class MockSettings:
    alien_speed = 1
    fleet_direction = 1


class MockScreen:
    def get_rect(self):
        return pygame.Rect(0, 0, 800, 600)


class MockAiGame:
    def __init__(self):
        self.screen = MockScreen()
        self.settings = MockSettings()


def test_alien_update():
    ai_game = MockAiGame()
    alien = Alien(ai_game)

    alien.update()
    assert alien.rect.x == 61  


def test_alien_check_edges():
    ai_game = MockAiGame()
    alien = Alien(ai_game)

    screen_rect = alien.screen.get_rect()
    alien.rect.x = screen_rect.right - 1
    assert alien.check_edges() == True  
    alien.rect.x = 0
    assert alien.check_edges() == True  

    alien.rect.x = 10
    assert alien.check_edges() == False  
```

[![pidjYKx.png](https://z1.ax1x.com/2023/11/23/pidjYKx.png)](https://imgse.com/i/pidjYKx)

(2) Game_Statsç±»æµ‹è¯•

```python
import pytest
from Game_stats import GameStats
from Setting import Settings

class TestGameStats:
    @pytest.fixture
    def ai_game(self):
        settings = Settings()
        return AI_Game(settings)

    def test_reset_stats(self, ai_game):
        stats = GameStats(ai_game)  
        stats.score = 100  
        stats.ships_left = 2  
        stats.reset_stats()  
        assert stats.score == 0  
        assert stats.ships_left == ai_game.settings.ship_limit  
        assert stats.high_score == 0 
        assert stats.level == 1 

class AI_Game:
    def __init__(self, settings):
        self.settings = settings

class Settings:
    def __init__(self):
        self.ship_limit = 3

```

[![pidjIRs.png](https://z1.ax1x.com/2023/11/23/pidjIRs.png)](https://imgse.com/i/pidjIRs)

(3) Bulletç±»æµ‹è¯•

```python
import pygame
from Bullet import Bullet


def test_bullet_update():
    ai_game = MockAiGame() 
    bullet = Bullet(ai_game)
    bullet.update()
    assert bullet.rect.y == bullet.y


class MockAiGame:
    def __init__(self):
        self.screen = pygame.Surface((800, 600))
        self.settings = MockSettings()
        self.ship = MockShip()


class MockSettings:
    def __init__(self):
        self.bullet_color = (255, 255, 255)  
        self.bullet_width = 5  
        self.bullet_height = 10  
        self.bullet_speed = 2  


class MockShip:
    def __init__(self):
        self.rect = pygame.Rect(0, 0, 10, 10) 

    @property
    def midtop(self):
        return self.rect.midtop
```

[![pidXd9s.png](https://z1.ax1x.com/2023/11/23/pidXd9s.png)](https://imgse.com/i/pidXd9s)

### 1.2 æ€»ä½“åŠŸèƒ½çš„æµ‹è¯•

(1) å¤–æ˜ŸäººåŠŸèƒ½æµ‹è¯•
[![piNi1Vf.png](https://z1.ax1x.com/2023/11/17/piNi1Vf.png)](https://imgse.com/i/piNi1Vf)

(2) é£èˆ¹åŠŸèƒ½æµ‹è¯•
[![piNiQqP.png](https://z1.ax1x.com/2023/11/17/piNiQqP.png)](https://imgse.com/i/piNiQqP)

(3) å­å¼¹åŠŸèƒ½æµ‹è¯•
[![piNiJPg.png](https://z1.ax1x.com/2023/11/17/piNiJPg.png)](https://imgse.com/i/piNiJPg)
[![piNFbkT.png](https://z1.ax1x.com/2023/11/17/piNFbkT.png)](https://imgse.com/i/piNFbkT)

(4) å¼€å§‹åŠŸèƒ½æµ‹è¯•
[![piNkPAK.png](https://z1.ax1x.com/2023/11/17/piNkPAK.png)](https://imgse.com/i/piNkPAK)

(5) è®°åˆ†æ¿åŠŸèƒ½æµ‹è¯•
[![piNksgJ.png](https://z1.ax1x.com/2023/11/17/piNksgJ.png)](https://imgse.com/i/piNksgJ)
[![piNkyv9.png](https://z1.ax1x.com/2023/11/17/piNkyv9.png)](https://imgse.com/i/piNkyv9)

## ç»“è®º

è¯¥é¡¹ç›®åŸºæœ¬å®ç°äº†é£æœºå¤§æˆ˜å¤–æ˜Ÿäººæ¸¸æˆçš„åŸºæœ¬åŠŸèƒ½ï¼Œå¯ä»¥ç§»åŠ¨é£æœºï¼Œé£æœºå¯ä»¥å‘å°„å­å¼¹å¹¶ä¸”å­å¼¹å¯ä»¥å‡»ä¸­å¤–æ˜Ÿäººåä¸€èµ·æ¶ˆå¤±ï¼Œå¹¶æŠŠå¤–æ˜Ÿäººçš„åˆ†æ•°æ˜¾ç¤ºåœ¨å±å¹•ä¸­ï¼ŒåŒæ—¶é£æœºä¹Ÿæœ‰ä¸å¤–æ˜Ÿäººç›¸æ’çš„æ¬¡æ•°é™åˆ¶ï¼Œè¿˜å¯ä»¥è®°å½•æœ€é«˜åˆ†ã€‚ä½†æ˜¯ä»ç„¶å­˜åœ¨ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œä¾‹å¦‚ï¼šé£æœºä¸å¤–æ˜Ÿäººç›¸æ’åï¼Œæ¸¸æˆç»“æŸï¼Œä½†æ˜¯æ²¡æœ‰ç»™å‡ºæç¤ºï¼Œç©å®¶ä¸çŸ¥é“å¦‚ä½•ç»§ç»­æ¸¸æˆï¼Œè¿˜æœ‰é£æœºåªæœ‰ä¸€ä¸ªï¼Œä¸èƒ½å¤Ÿä¾›ç©å®¶è‡ªç”±é€‰æ‹©ï¼Œé£æœºçš„æ”»å‡»æ¨¡å¼åªæœ‰ä¸€ç§,å¤–æ˜Ÿäººçš„å‡ºåœºæ¨¡å¼æ˜¯å›ºå®šçš„ï¼Œå¼€å§‹èœå•ä¸æ¸¸æˆç•Œé¢åœ¨åŒä¸€ä¸ªç”»å¸ƒä¸Šç­‰ç­‰.

## å‚è€ƒæ–‡çŒ®

[ç¾] åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯(Eric Matthes).Pythonç¼–ç¨‹-ä»å…¥é—¨åˆ°å®è·µ(ç¬¬3ç‰ˆ)[M].è¢å›½å¿ è¯‘.åŒ—äº¬: äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2023.8